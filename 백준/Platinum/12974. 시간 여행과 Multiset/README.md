# [Platinum II] 시간 여행과 Multiset - 12974 

[문제 링크](https://www.acmicpc.net/problem/12974) 

### 성능 요약

메모리: 20020 KB, 시간: 104 ms

### 분류

값 / 좌표 압축, 자료 구조, 오프라인 쿼리, 세그먼트 트리

### 제출 일자

2024년 12월 23일 23:08:34

### 문제 설명

<p>성관이는 시간 여행을 할 수 있는 타임머신을 개발했다! 하지만, 이 문제는 알고리즘 문제이기 때문에, 그는 무엇인가 멋진 일을 하는 대신 multiset에 시간 여행을 적용하기로 했다.</p>

<p>시간 여행이 포함된 multiset은, 다음과 같은 기능을 제공한다.</p>

<ol>
	<li>특정 시간 t로 가서, multiset에 정수 x를 추가한다.</li>
	<li>특정 시간 t로 가서, multiset에서 정수 x를 제거한다. (시간 t에 multiset에 정수 x가 존재함은 보장된다.)</li>
	<li>특정 시간 t에 multiset에 정수 x가 몇 개 존재하는지 출력한다.</li>
</ol>

<p>예를 들어 설명해보자. 정수 1이 시간 2에 두 개 추가되고, 시간 5에 하나 제거되었다고 하자. 이때, 정수 1은 시간 2~4 동안은 2개, 시간 5~에는 1개가 존재한다. 만약 시간 4에서 정수 1을 하나 제거하였다면, 이제 정수 1은 시간 2~3 동안 2개, 시간 4동안 1개, 시간 5~에는 존재하지 않는다. 이 상황에서, 시간 5에서 정수 1을 하나 제거하는 연산은, 정수 1이 그 시점에 존재하지 않으므로 조건에 맞지 않는 연산이다. (따라서 입력으로 들어오지 않는다.)</p>

<p>위와 같은 동작을 구현하는 프로그램을 작성하시오.</p>

### 입력 

 <p>입력의 첫 번째 줄에는 질의의 개수 N이 주어진다. (1 ≤ N ≤ 100,000)</p>

<p>다음 N개의 줄에는 질의의 정보가 주어진다. 각 질의는 세 개의 자연수 a<sub>i</sub>, t<sub>i</sub>, x<sub>i</sub>를 갖는다. (1 ≤ a<sub>i</sub> ≤ 3, 1 ≤ t<sub>i</sub>, x<sub>i</sub> ≤ 10<sup>9</sup>) a<sub>i</sub>는 질의의 종류를 의미한다. t<sub>i</sub>, x<sub>i</sub>는 본문의 질의 설명에 나타나는 변수이다.</p>

### 출력 

 <p>a<sub>i</sub>가 3인 질의가 주어질 때마다, 그 질의의 결과를 출력한다.</p>

